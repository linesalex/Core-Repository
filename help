# Remove the musl version
sudo rm -rf /usr/local/bin/node /usr/local/bin/npm /usr/local/lib/node_modules

# Download the regular glibc-based Node.js 12 binary (compatible with RHEL 7)
cd /tmp
wget https://nodejs.org/dist/v12.22.12/node-v12.22.12-linux-x64.tar.xz
tar -xJf node-v12.22.12-linux-x64.tar.xz
sudo cp -r node-v12.22.12-linux-x64/* /usr/local/

# Test the glibc version
/usr/local/bin/node --version
/usr/local/bin/npm --version

# Test with PATH
source ~/.bashrc
node --version
npm --version

# Configure npm for RHEL 7
npm config set python python2
npm config set unsafe-perm true

# Test that both work
node --version
npm --version
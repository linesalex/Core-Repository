cd /root/Core-Repository/backend

# Download pre-compiled sqlite3 for Node.js 14 and RHEL 7
wget https://github.com/mapbox/node-sqlite3/releases/download/v4.2.0/node-v83-linux-x64.tar.gz

# Create the proper directory structure
mkdir -p node_modules/sqlite3/lib/binding/node-v83-linux-x64

# Extract the binary
tar -xzf node-v83-linux-x64.tar.gz -C node_modules/sqlite3/lib/binding/node-v83-linux-x64/ --strip-components=1

# Install sqlite3 without building
npm install sqlite3@4.2.0 --ignore-scripts

# Test
npm start